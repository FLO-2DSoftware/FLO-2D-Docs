

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Chapter 4 &mdash; FLO-2D Pro Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=5a0feee8" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script>let toggleHintShow = 'Click to show';</script>
      <script>let toggleHintHide = 'Click to hide';</script>
      <script>let toggleOpenOnPrint = 'true';</script>
      <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
      <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
      <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Chapter 5" href="Chapter%205.html" />
    <link rel="prev" title="Chapter 3" href="Chapter%203.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            FLO-2D Pro Documentation
              <img src="../../_static/FLO-2D Transparent.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../setup/index.html">FLO-2D Installation &amp; Setup</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">FLO-2D Pro Resource Center</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../data_input_manual.html">Data Input Manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Channel%20Modeling%20Guidelines%202023/index.html">Channel Modeling Guidelines</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Storm Drain Modeling Guidelines</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Chapter%201.html">Chapter 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="Chapter%202.html">Chapter 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="Chapter%203.html">Chapter 3</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Chapter 4</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#guidelines-storm-drain-setup">Guidelines Storm Drain Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-parameters">Default Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#initial-parameters">Initial Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#integration-of-a-storm-drain-network-into-a-complex-urban-model">Integration of a Storm Drain Network into a Complex Urban Model</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Chapter%205.html">Chapter 5</a></li>
<li class="toctree-l3"><a class="reference internal" href="Chapter%206.html">Chapter 6</a></li>
<li class="toctree-l3"><a class="reference internal" href="Chapter%207.html">Chapter 7</a></li>
<li class="toctree-l3"><a class="reference internal" href="References.html">References</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Hydraulic%20Structures%20Guidelines/Hydraulic%20Structures%20Guidelines.html">FLO-2D Hydraulic Structure Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Levee%20Dam%20and%20Wall%20Breach%20Guidelines/Levee%20Dam%20and%20Wall%20Breach%20Guidelines.html">Levee Dam and Wall Breach Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Simulating%20Mudflow%20Guidelines/Simulating%20Mudflow%20Guidelines.html">Simulating Mudflow Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Two%20Phase%20Flood%20Routing%20Guidelines%202023/Two%20Phase%20Flood%20Routing%20Guidelines%202023.html">Two Phase Flood Routing Guidelines 2023</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Reference%20Manual%202023/index.html">Reference Manual</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../flo-2d_plugin/index.html">FLO-2D Plugin Gila</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">FLO-2D Pro Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">FLO-2D Pro Resource Center</a></li>
          <li class="breadcrumb-item"><a href="index.html">Storm Drain Modeling Guidelines</a></li>
      <li class="breadcrumb-item active">Chapter 4</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/flo-2d_pro/Storm Drain Modeling Guidelines/Chapter 4.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="chapter-4">
<h1>Chapter 4<a class="headerlink" href="#chapter-4" title="Link to this heading"></a></h1>
<section id="guidelines-storm-drain-setup">
<h2>Guidelines Storm Drain Setup<a class="headerlink" href="#guidelines-storm-drain-setup" title="Link to this heading"></a></h2>
<p>To build a FLO-2D project with a storm drain, it is important to create a functional surface model first.
This includes the following required components:</p>
<blockquote>
<div><ul class="simple">
<li><p>Computational domain</p></li>
<li><p>Grid elevation and roughness</p></li>
<li><p>Boundary conditions</p></li>
<li><p>Channels and culverts</p></li>
<li><p>Wall and buildings</p></li>
</ul>
</div></blockquote>
<p>Once the surface model is ready, the storm drain can be added to the system using the FLO-2D Plugin.
For detailed instructions including tutorials and videos, please refer to the FLO-2D Documentation website.
<a class="reference external" href="https://documentation.flo-2d.com/index.html">https://documentation.flo-2d.com/index.html.</a> The Self-Help Kit outlines the process to set up a model and add a storm drain system to it.
Three Storm Drain Lessons and the Coastal Tutorial have storm drain systems.</p>
<p>Specific instructions for creating a storm drain in a FLO-2D urban environment are:</p>
<blockquote>
<div><ul class="simple">
<li><p>A storm drain inlet/outfall should not be assigned to a completely blocked cell (ARF = 1); A reasonable amount of surface area should be available for
the storm drain feature to interact with the surface water.</p></li>
<li><p>Higher roughness values can be assigned to floodplain elements with storm drain features (inlet or outfalls) to represent the storm drain flow
disturbance around the inlet or outfall.
This would help surface routing numerical stability.</p></li>
<li><p>Inlet rim elevations should match the floodplain elevation.
For an inlet rating table, the inlet discharge is zero if the floodplain water surface elevation is less than the inlet rim elevation.</p></li>
<li><p>Levees and walls may isolate a storm drain feature in the model resulting in oscillating storm drain discharge.
A review of the inlet/outfall location may be required.</p></li>
<li><p>Storm drain features should not be assigned to surface water inflow or outflow elements.
There is an error message generated for this conflict.</p></li>
</ul>
</div></blockquote>
<p>Other specific urban guidelines are listed in Table 19.</p>
<p><em>Table 19.
FLO-2D Storm Drain Instructional Comments.</em></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td></td>
<td><p><strong>Guidelines ad Instructional Comments</strong></p></td>
</tr>
<tr class="row-even"><td><p>WSE is greater than pipe pressure head</p></td>
<td><p>Inlet discharge is computed by FLO-2D and exchanged with the storm drain system.
FLO-2D will</p>
<p>use the grid element water depth (floodplain, channel or street) and the</p>
<p>inlet geometry to calculate the inlet discharge.</p>
<p>Horizontal inlets refer to gutter inlets and vertical inlets are culvert or pipe openings</p>
<p>to the surface. Floodplain grid element elevation (FPE) is automatically set to the inlet</p>
<p>rim elevation. For horizontal inlets changes</p>
<p>to FPE are reported to a file named as FPRIMELEV.OUT.</p>
<p>For vertical inlets:</p>
<ul>
<li><p>An inlet on a 1-D channel (end of segment) where the channel flow is</p>
<p>discharging to the storm drain conduit, the invert elevation should be equal to</p>
<p>the channel bed elevation.</p>
</li>
<li><p>If the flow is discharging to a storm drain conduit or culvert in a floodplain</p>
<p>swale, the invert elevation should be equal to the cell floodplain elevation.</p>
</li>
</ul>
<p>The last column parameter ‘Feature’ in the SWMMFLO.DAT file has three options:</p>
<blockquote>
<div><ol class="arabic simple" start="0">
<li><ul class="simple">
<li><p>default, no flapgate, no vertical inlet opening</p></li>
</ul>
</li>
<li><ul class="simple">
<li><p>vertical, inlet opening</p></li>
</ul>
</li>
<li><ul class="simple">
<li><p>flapgate (outlet)</p></li>
</ul>
</li>
</ol>
</div></blockquote>
<p>If option 1 is assigned for a vertical inlet opening then there are two cases:</p>
<blockquote>
<div><ul>
<li><p>The channel pipe inlet invert elevation must be reset to the channel
bed elevation.</p>
<p>Automated runtime changes for this case do not occur.</p>
<p>The user must manually implement the elevation revision.</p>
</li>
<li><p>Grid element elevation is reset to the pipe invert elevation at runtime.</p></li>
</ul>
</div></blockquote>
<p>The corrected FPE is not revised in the FPLAIN.DAT file.
The user must review the</p>
<p>FPRIMELEV.OUT modifications and rename FPLAIN_SDElev.RGH and the  TOPO_SDElev.RGH</p>
<p>files to FPLAIN.DAT AND</p>
<p>TOPO.DAT files respectively to .</p>
<p>make the elevation changes permanent.</p>
<p>Rim elevations for the inlets located in channel/street</p>
<p>cells must be verified and manually revised by the user.</p>
<p>The discharge and volume that enters the storm drain is based on the inlet geometry</p>
<p>and on the relationship between the water surface elevation and the storm drain</p>
<p>pressure head. Storm drain inflow discharge is inlet controlled until the system</p>
<p>capacity is reached.</p>
</td>
</tr>
<tr class="row-odd"><td></td>
<td><dl>
<dt>Inlet conditions:</dt><dd><ul>
<li><p>Curb opening inlet at grade (no sag) INTYPE=1.</p></li>
<li><p>Curb opening inlet with sag INTYPE= 2.</p></li>
<li><p>Grate (gutter) inlet with/without sag INTYPE=3.</p></li>
<li><p>Unique inlet with stage - discharge rating table or data for the generalized</p>
<p>culvert equation INTYPE=4.</p>
</li>
<li><p>Manhole INTYPE=5.</p></li>
</ul>
</dd>
</dl>
<p>Weir/orifice equations are used to calculate the discharge for inlets 1 thru 3 and 5.</p>
<p>For the rating table option (INTYPE = 4), a relationship between cell flow depth and</p>
<p>discharge or the culvert geometry needs to be entered in QGIS.</p>
<p>An additional file</p>
<p>(SWMMFLORT.DAT) is created for these type of inlets.</p>
</td>
</tr>
<tr class="row-even"><td><p>Storm drain pressure is greater than the WSEL</p></td>
<td><p>Surcharging or return flow is computed from the storm drain to the surface water.</p>
<p>Not all return flow or flooding reported in the SWMM.RPT file passes from the</p>
<p>storm drain to the surface water since the pressure head must be greater than the WSEL.</p>
<p>Return flow volume is distributed over the grid element surface area as</p>
<p>an increased incremental flow depth added to the existing cell depth.</p>
<p>Inflow to storm drain from the surface water is not allowed in this case.</p>
</td>
</tr>
<tr class="row-odd"><td><p>WSE is greater than the pressure head and the rim elevation</p></td>
<td><p>No return flow from the storm drain to the surface water is computed.</p>
<p>Volume in the inlet node stays in the pipe and the overflow volume is</p>
<p>set to 0.</p>
<p>Inflow to the storm drain from surface water is not computed.</p>
</td>
</tr>
<tr class="row-even"><td><p>Volumeconservation</p></td>
<td><p>Inflow to the storm drain and return volumes (flooding and outfall volumes)</p>
<p>to the surface water are compiled and reported by the FLO-2D model.</p>
</td>
</tr>
<tr class="row-odd"><td><p>Reportingresults</p></td>
<td><p>The FLO-2D file SWMMQIN.OUT reports the inflow and return flow discharge</p>
<p>for each inlet from and to surface.</p>
<p>This is different from the discharge values reported in the SWMM.RPT file</p>
<p>which includes lateral pipe inflow and outflow.</p>
<p>SWMMOUTFIN.OUT file lists time and discharge pairs for storm drain outfall</p>
<p>hydrographs when they discharge back to the surface water.</p>
</td>
</tr>
<tr class="row-even"><td><p>Detention basin outlet</p></td>
<td><p>Flapgates can be used to stop flow from going into the storm drain system.</p>
<p>Flow only goes out of the outlet.</p>
<p>The SWMMFLO.DAT file assigns a switch (FEATURE) that can have one of the</p>
<dl>
<dt>following values:</dt><dd><ol class="arabic simple" start="0">
<li><p>= default, no flap gate, no vertical inlet opening</p></li>
<li><p>= vertical inlet opening</p></li>
<li><p>= flapgate, controls outlet node discharge</p></li>
<li><p>= turn the computation of the reduction in inlet discharge when</p></li>
</ol>
<p>drop box capacity is exceeded</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><p>FreeOutfalls</p></td>
<td><p>Any type of SWMM outfall can be assigned to the storm drain model.</p>
<p>To discharge back to the FLO-2D surface water, the user must set</p>
<p>the outfall to type ‘free’.</p>
<p>Discharge is based on the surface water elevation and storm drain</p>
<p>pressure head.</p>
<p>Outfall discharge will occur if:</p>
<p>If the pressure head &gt; WSEL: Outfall discharges to the FLO-2D grid cell.</p>
<p>If the pressure head &lt; WSEL: There is no outfall discharge, but depth</p>
<p>is equal to WSEL.</p>
<p>Flow into the outfall depends on tide gate assignment and the WSEL.</p>
<p>This is available only for the ‘free’ type of outfalls.</p>
<p>It does not apply to normal, fixed, tidal or time series type of outfalls.</p>
<p>When the outfall is not set up as a free outfall connected to the surface.</p>
<p>The outfall does not discharge to the surface water.</p>
<p>For this case, the outfall head is assigned based on the type of outfall</p>
<p>node in the SWMM.INP file.</p>
<p>The following types can be set up:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>FREE: minimum between normal and critical depth.</p></li>
<li><p>NORMAL: normal depth.</p></li>
<li><p>FIXED: fixed stage entered in the data.</p></li>
<li><p>TIDAL: head computed from tide stage curve.</p></li>
<li><p>TIME SERIES: head computed from the time | series.</p></li>
</ol>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>Manholes</p></td>
<td><p>Popping a manhole cover can be simulated.</p>
<p>The surcharge depth is entered in the SWMMFLO.DAT file.</p>
<p>The user can define the surcharge depth in the junction properties</p>
<p>(SWMM.inp file).</p>
<p>When the surcharge depth is set to different values in  SWMMFLO.DAT and in</p>
<dl class="simple">
<dt>the SWMM.inp file, the model uses the surcharge depth from the SWMMFLO.DAT.</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>If Pressure Head + Surcharge Depth &lt; WSEL:</dt><dd><ul>
<li><p>Cover remains in place.</p></li>
<li><p>Inflow to the manhole is not allowed.</p></li>
<li><p>Return flow will not occur.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>If Pressure Head + Surcharge Depth &gt; WSEL:</dt><dd><ul>
<li><p>Cover is popped.</p></li>
<li><p>Surcharge depth is reset to 0.</p></li>
<li><p>Inflow to the storm drain is permitted.</p></li>
<li><p>Return flow can occur.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</section>
<section id="default-parameters">
<h2>Default Parameters<a class="headerlink" href="#default-parameters" title="Link to this heading"></a></h2>
<p>The following storm drain parameters are automatically hardwired in the FLO-2D storm drain model.
Those values written to the SWMM.inp file are automatically replaced at the beginning of the FLO-2D simulation according to the following:</p>
<blockquote>
<div><ul>
<li><p>Runoff Wet Weather (WET_STEP) and Runoff Dry Weather (DRY_STEP) timesteps.
These watershed routing parameters are not directly used by the FLO-2D storm drain model.</p></li>
<li><p>Lengthening Step (LENGTHENING_STEP) is set as the routing timestep (ROUTING_STEP) divided by 6.
This is hardwired in the FLO-2D storm drain code, values from SWMM.inp file will be replaced at the beginning of the FLO-2D simulation.
This option increases the length of the shorter conduits based on the Courant-Friederick-Levy (CFL) stability criteria.
The storm drain model bases the new equivalent pipe length on an estimate of the full flow velocity in the conduit as well as on the wave celerity.
The full area, width and hydraulic radius are unchanged in the modified link, but the length, slope and roughness are altered.</p>
<p>Length Factor = (Wave Celerity + Full Depth Velocity) * Timestep/ Pipe Length</p>
<blockquote>
<div><p>For a Length Factor &gt; 1:</p>
<blockquote>
<div><p>New Roughness= Old Roughness /Length Factor**0.5</p>
<p>New Slope = Old Slope Slope/Length Factor**0.5</p>
</div></blockquote>
</div></blockquote>
</li>
<li><p>The routing model (FLOW_ROUTING) for the FLO-2D storm drain component is set as dynamic wave (DYNWAVE) to account for backwater effects, entrance/exit
losses, flow reversal or pressurized flow.
If the FLOW_ROUTING from the SWMM.INP is different than dynamic wave (DYNWAVE), FLO-2D will replace the routing model from the SWMM.INP with the
dynamic wave (DYNWAVE) option.</p></li>
<li><p>The inertial term (INERTIAL_DAMPING) is set to PARTIAL or dampen (Partial=1).
The inertial terms in the Saint Venant Equation are reduced for critical flow and ignored for supercritical flow.</p></li>
<li><p>Report Control Actions and Report Input Summary ([Report] CONTROLS and INPUT) are automatically turned on.</p></li>
<li><p>“Start Reporting on” variables (START_DATE and START_TIME) in the SWMM GUI is automatically set as Start Analysis on.
Both the FLO-2D and the storm drain model will start reporting results at the beginning of the simulation.</p></li>
<li><p>“End Analysis on” variables (END_DATE and END_TIME) in the SWMM GUI are automatically set based on the simulation time entered in FLO-2D (CON.DAT
file).
The Storm Drain results (*.RPT,*.OUT) are automatically saved when the model simulation runs until completion.
If the model is stopped before completion, storm drain results are written.</p></li>
</ul>
</div></blockquote>
</section>
<section id="initial-parameters">
<h2>Initial Parameters<a class="headerlink" href="#initial-parameters" title="Link to this heading"></a></h2>
<p>When building the storm drain model, the following data assignments in the SWMM.inp file are recommended:</p>
<blockquote>
<div><ol class="arabic">
<li><p>It is recommended to keep the names of the various storm drain components simple, short, and uniform such as I1, I2, I3… for inlets.
The number of characters should be less than 25.
Use O = outlets and C = pipe conduits.
This will simplify the graphics display of the storm drain components and make it easier to differentiate between inlets, manholes, and outlets.</p></li>
<li><p>The END_TIME for the model duration is automatically assigned so that the END_TIME minus the START_TIME is equal to the simulation time SIMUL in the
FLO-2D model CONT.DAT file.</p></li>
<li><p>The ROUTING_STEP is automatically assigned as equal to the FLO-2D Timestep.
The FLO-2D Timestep is used as the ROUTING_STEP for all conditions including a VARIABLE_STEP equal or different to zero.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The WET_STEP and DRY_STEP values are hardcoded to 1 minute.</p>
</div>
</li>
<li><p>The REPORT_START_DATE and REPORT_START_TIME are automatically assigned as the start date and time.</p></li>
<li><p>The storm drain component reporting time (REPORT_STEP) in SWMM.inp file is recommended to be set up as equal to the FLO-2D output interval (TOUT) in
the CONT.DAT file.
Results for the surface water and for the storm drain will be reported with the same output timestep.
REPORT_STEP is a mixture of hours, minutes, and seconds with the format 00:00:00.
The unit for TOUT is hours.</p></li>
</ol>
</div></blockquote>
</section>
<section id="integration-of-a-storm-drain-network-into-a-complex-urban-model">
<h2>Integration of a Storm Drain Network into a Complex Urban Model<a class="headerlink" href="#integration-of-a-storm-drain-network-into-a-complex-urban-model" title="Link to this heading"></a></h2>
<p>Integrating a storm drain network into an urban model requires an understanding of how the storm drains will interact with the surface flow.
In the FLO-2D model, the most complex interaction occurs between the storm drain features and the 1-D channel component.
The storm drain system interfaces with channels through inlets and outfalls.
An early identification of storm drain database deficiencies can save time and effort on a project.</p>
<section id="storm-drain-inlet-channel">
<h3>Storm Drain Inlet – Channel<a class="headerlink" href="#storm-drain-inlet-channel" title="Link to this heading"></a></h3>
<p>After initial set up of the urban project, the following issues related to the storm drain inlet to channel system should be addressed:</p>
<blockquote>
<div><ul class="simple">
<li><p>Inlet locations:</p>
<ul>
<li><p>Inlets must be inside the FLO-2D computational domain;</p></li>
<li><p>Inlets cannot be assigned to the interior channel elements;</p></li>
<li><p>Inlets that pick-up water from the street or overland should not be assigned to the channel left bank elements.</p></li>
</ul>
</li>
<li><p>Inlet elevations:</p>
<ul>
<li><p>Channels discharging to a storm drain inlet should have a invert elevation that matches the inlet invert elevation;</p></li>
<li><p>In most instances, the inlet should be set up as a vertical inlet in the SWMMFLO.DAT file using the Feature switch.</p></li>
</ul>
</li>
</ul>
</div></blockquote>
<p>Storm drain inlets should not be assigned to an interior channel element.
If a channel discharges directly to a storm drain conduit inlet, like a culvert inlet, assign the inlet to the channel left bank element.
For this configuration, a vertical Type 4 inlet can be applied (refer to the Storm Drain Manual for details).
<strong>Error! Not a valid bookmark self-reference.</strong> and Figure 40 provide some additional details about setting up the inlet/channel interface.
This system shows that the bed elevation of the channel is equal to the invert elevation of the inlet.</p>
<blockquote>
<div><ul class="simple">
<li><p>Channel Bed Elevation = Bank Elevation – Depth = (299.8 – 3.5) = 296.3 ft</p></li>
<li><p>Inlet Elevation = 296.3 ft</p></li>
</ul>
</div></blockquote>
<img alt="../../_images/Chapte0029.jpg" src="../../_images/Chapte0029.jpg" />
<p><em>Figure 39.
Trapezoidal 1-D Channel Discharging to a Storm Drain Inlet</em></p>
<img alt="../../_images/Chapte0034.png" src="../../_images/Chapte0034.png" />
<p><em>Figure 40.
Elevation of a Trapezoidal 1-D Channel Discharging to a Storm Drain Inlet</em></p>
<p>Figure 41 shows a storm drain system interfacing with a channel system.
The direction of the storm drain exchange flows are based on the comparison between the water surface elevation and the pressure head which are a
function of the following:</p>
<blockquote>
<div><ul class="simple">
<li><p>Channel bed elevation = inlet invert elevation</p></li>
<li><p>Channel bank elevation = inlet rim elevation (typical design)</p></li>
</ul>
</div></blockquote>
<img alt="../../_images/Chapte0046.jpg" src="../../_images/Chapte0046.jpg" />
<p><em>Figure 41.
Complex Interaction between a Storm Drain Conduit and 1-D Channel</em></p>
</section>
<section id="storm-drain-outfall-channel">
<h3>Storm Drain Outfall – Channel<a class="headerlink" href="#storm-drain-outfall-channel" title="Link to this heading"></a></h3>
<p>To connect a storm drain outfall to a channel element the following issues should be addressed:</p>
<blockquote>
<div><ul class="simple">
<li><p>Are outfalls set up as a ‘FREE’ condition type?</p></li>
<li><p>Is the switch to discharge flow back to the surface ‘ON’ in the SWMMOUTF.DAT file?</p></li>
</ul>
</div></blockquote>
<p>Figure 42 shows a complex storm drain – channel system where a channel feeds the storm drain as an inlet and flow returns to surface channel
downstream.</p>
<img alt="../../_images/Chapte0057.jpg" src="../../_images/Chapte0057.jpg" />
<p><em>Figure 42.
Complex Flow Exchange between a Storm Drain System and 1-D Channel</em></p>
<p>Storm drain outfalls are assigned to the channel left bank element.
For most cases, the outfall invert elevation would be assigned to the channel element thalweg elevation.
If the coordinates in the SWMM.inp file are the left bank element channel coordinates, then the QGIS Plugin will automatically assign the outfall node
to the left bank element.
The outfall should be correctly paired to the left bank element in the SWMMOUTF.DAT (Figure 43).</p>
<img alt="../../_images/Chapte0066.jpg" src="../../_images/Chapte0066.jpg" />
<p><em>Figure 43.
Typical Configuration of a Storm Drain Outfall Discharging to a Natural Channel</em></p>
<p>The Plugin uses coordinates of the different storm drain components from the SWMM.inp file to pair them with the grid elements in the surface layer.
It is usually not necessary for the outfall coordinates in the SWMM.inp to match the left bank channel element coordinate.
The position is within the channel, the outfall will be correlated in the SWMMOUTF.DAT updating the grid element number to the closest left bank
element number (Figure 41).
The user should check every outfall to be sure it is correctly assigned to the appropriate left bank grid.
In this case, the outfall coordinates in the SWMM.inp file do not have to be replaced since the storm drain discharge calculations will not be
affected.</p>
<p>The bank elements in FLO-2D function as both floodplain and channel elements to facilitate the channel to floodplain exchange.
The outfall should not be assigned to the left bank floodplain element.
This causes the elevation to match the grid elevation instead of the channel elevation.
Assignment of the outfall to a right bank element, or a channel interior element will generate an error message.</p>
<img alt="../../_images/Chapte0077.jpg" src="../../_images/Chapte0077.jpg" />
<p><em>Figure 44.
Outfall Nodes Paired to Interior Channel Elements.</em></p>
<p>The outfall invert elevation can be less than the channel thalweg elevations (underground), and the storm drain would be assumed to be underwater with
an initial tailwater depth.
The conduit should have a positive slope to the outfall.
This configuration may represent the case for a ponded surface water condition that is assigned as a ground elevation because the ponded water will
not contribute to downstream flooding.
If the outfall invert is underground (underwater), there is an option to assign an artificial head equal to the ground elevation.
It is assigned to the outfall node for the entire simulation.
This artificial head may fill the pipe, but the volume that goes into the pipe is not considered in the FLO-2D volume conservation accounting because
the grid element is dry.
The artificial volume is accounted for in the storm drain model.
When the model runs, inflow may be added to either the outfall grid element or the upstream storm drain network and the flow can go either in or out
of the outfall pipe based on the pressure head (Figure 45).
To account for volume conservation, the storm drain outflow that represents inflow volume to a FLO-2D channel is reported in the CHVOLUME.OUT file.</p>
<img alt="../../_images/Chapte0085.jpg" src="../../_images/Chapte0085.jpg" />
<p><em>Figure 45.
Underground Outfall Condition</em></p>
<p>Water will flow in or out of the outfall pipe based on the relationship between the water surface elevation and pipe pressure head.
Water can enter the storm drain when the water surface elevation is greater than the pressure head, but it can evacuate from the storm drain if the
pressure head is above the water surface elevation.
This behavior can introduce oscillations in the system that can be explained as a respond to the surface water and storm drain pressure interaction
(Figure 46).</p>
<img alt="../../_images/Chapte0094.jpg" src="../../_images/Chapte0094.jpg" />
<p><em>Figure 46.
Inlet and Outfall Pressure Head Variation Cause Pipe Discharge Oscillations</em></p>
</section>
<section id="storm-drain-basin">
<h3>Storm Drain Basin<a class="headerlink" href="#storm-drain-basin" title="Link to this heading"></a></h3>
<p>Storm drain basins can be challenging to model because when the basin is full, the system is under pressure and the conduits and nodes feeding the
system will respond to the full basin with flow oscillations.
These oscillations are not numerical instability, they are upstream flow trying to feed the basin that is already full.
For basin modeling early builds required a flapgate.
Build 21 no longer required a flapgate but did show more fluctuations in the flow oscillations at the outfall.
Build 21 also required a grid elevation adjustment at the outfall so that the grid element elevation was adjusted to the invert of the outfall node.
Build 23 does not require a flapgate for basin outfalls or underground outfalls and flow dampening code was added to inlets to help eliminate the flow
oscillations at the full nodes and the inlet nodes connected to full conduits.
A more comprehensive documentation will be presented in Early 2024 on <a class="reference external" href="https://documentation.flo-2d.com">https://documentation.flo-2d.com</a> on an advanced storm drain review lesson.</p>
</section>
<section id="storm-drain-boundary">
<h3>Storm Drain Boundary<a class="headerlink" href="#storm-drain-boundary" title="Link to this heading"></a></h3>
<p><em>Inlet</em></p>
<p>If the storm drain crosses a boundary and there is inflow that enters the system at this boundary, it can be added as Time Series inflow to a Junction
type node.
Figure 47 shows this example of inflow coming from offsite via a node with a time series.
The invert elevation of the node and length of the conduit can be set to the real value to the feature that is off grid or across the boundary.
The FLO-2D Plugin will show an error if a node is off the grid.
Keep the features on grid but give them the invert and length of the regular system.
These nodes are not set up as inlets and do not exchange water with the grid/surface model.</p>
<img alt="../../_images/Chapte0104.jpg" src="../../_images/Chapte0104.jpg" />
<p><em>Figure 47.
Inflow Boundary at a Node.</em></p>
<p><em>Outfall</em></p>
<p>A standard treatment for a storm drain conduit that crosses a boundary is to treat the outfall as if it has a discharge with no downstream control.
An outfall placed near the boundary is assigned a 0 to the Allow Discharge switch.
This system acts like a sink.
The discharge is reported but no water is returned to the surface model.
In this case, the outfall is Free and Allow Discharge is 0 (do not allow).</p>
<img alt="../../_images/Chapte0111.png" src="../../_images/Chapte0111.png" />
<p><em>Figure 48.
Standard Outfall at a Boundary.</em></p>
<p>Some boundaries can change the control of the flow of a conduit crossing a boundary.
The example in Figure 49 shows an outfall to a dry trapezoidal channel.
The channel is connected to the canal system by a closed gate.
If the gate were opened, there would be a downstream control on this system.</p>
<img alt="../../_images/Chapte0126.jpg" src="../../_images/Chapte0126.jpg" />
<p><em>Figure 49.
Boundary Crossing with a Control.</em></p>
<p>Sometimes the conduit crossing the system is artificially shortened because the boundary is too close to the node.
This can change the hydraulics of the water moving down the conduit.
Figure 49 could also represent this condition.
In this case, setting the conduit length to the length at the next node and making sure the slope is correct can help ensure the discharge is
correctly represented as the flow that crosses the boundary.</p>
</section>
<section id="storm-drain-walls">
<h3>Storm Drain Walls<a class="headerlink" href="#storm-drain-walls" title="Link to this heading"></a></h3>
<p>If a storm drain inlet is near a wall, an adjustment might be needed to ensure that the inlet is on the correct side of the wall.</p>
<img alt="../../_images/Chapte0136.jpg" src="../../_images/Chapte0136.jpg" />
<p><em>Figure 50.
Wall and Inlet Example.</em></p>
</section>
<section id="storage-unit">
<h3>Storage Unit<a class="headerlink" href="#storage-unit" title="Link to this heading"></a></h3>
<p>A storage unit can be used with FLO-2D but at this time, it must be set up using the inp file or the EPA SWMM GUI.
Set it up with a Junction Node using the FLO-2D Plugin and then convert it to a storage unit using the EPA SWMM GUI (Figure 51).</p>
<img alt="../../_images/Chapte0146.jpg" src="../../_images/Chapte0146.jpg" />
<p><em>Figure 51.
Storage Unit Example.</em></p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Chapter%203.html" class="btn btn-neutral float-left" title="Chapter 3" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Chapter%205.html" class="btn btn-neutral float-right" title="Chapter 5" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2004 - Present, FLO-2D Software, Inc..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        Version:
        
        Build23
        
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        
        <dl>
            <dt>Versions</dt>
            
            <dd><a href="../../../Build25/flo-2d_pro/Storm Drain Modeling Guidelines/Chapter 4.html">
                    
                    Build25
                    
                </a></dd>
            
            <dd><a href="Chapter 4.html">
                    
                    Build23
                    
                </a></dd>
            
        </dl>
        
        <br>
        </dl>
    </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>